{"version":3,"file":"main.js","sources":["../node_modules/sinuous/module/observable.js","../node_modules/sinuous/module/sinuous.js","../src/main.js"],"sourcesContent":["const n=[];let t,o;function r(){return!!t}function u(n){const o=t,r=()=>{};t=r,a(r);const u=n(()=>{S(r),t=void 0});return t=o,u}function c(n){const o=t;t=void 0;const r=n();return t=o,r}function i(t){o=[];const r=t();let u=o;return o=void 0,u.forEach(t=>{if(t.t!==n){const o=t.t;t.t=n,t(o)}}),r}function e(r){function u(c){if(0===arguments.length)return t&&!u.o.has(t)&&(u.o.add(t),t.u.push(u)),r;if(o)return u.t===n&&o.push(u),u.t=c,c;r=c;const i=t;return t=void 0,u.i=new Set(u.o),u.i.forEach(n=>n.s=!1),u.i.forEach(n=>{n.s||n()}),t=i,r}return(u.$o=!0,u.o=new Set,u.t=n,u)}function f(n,o){function r(){const u=t;t&&t.__c.push(r);const c=r.__c;return S(r),r.s=!0,t=r,o=n(o),c.forEach(n=>{-1===r.__c.indexOf(n)&&(n.s=!0)}),function n(t){return t.reduce((t,o)=>t.concat(o,n(o.__c)),[])}(r.__c).forEach(n=>{n.s&&n.u.forEach(t=>{t.i&&t.i.delete(n)})}),t=u,o}return n.v=r,a(r),r(),function(){return r.s?r.u.forEach(n=>n()):o=r(),o}}function s(n){return t&&t.S.push(n),n}function d(n){return f(n),()=>S(n.v)}function v(n){S(n.v)}function S(n){n.__c.forEach(S),n.u.forEach(t=>{t.o.delete(n)}),n.S.forEach(n=>n()),a(n)}function a(n){n.u=[],n.__c=[],n.S=[]}export{f as S,s as cleanup,f as computed,r as isListening,e as o,e as observable,u as root,c as sample,d as subscribe,i as transaction,v as unsubscribe};\n//# sourceMappingURL=observable.js.map\n","import*as n from\"./observable.js\";import{o as t}from\"./observable.js\";import o from\"./htm.js\";const e={},s=[],f=\"__g\";function i(n,t,o,e){if(o){if(t){if(!e){const t=(e=o.previousSibling||n.lastChild)[f];if(t)for(e=e.previousSibling;e&&e[f]!==t;)e=e.previousSibling}let t;for(;e&&e!==o;)t=e.nextSibling,n.removeChild(e),e[f]=0,e=t}}else n.textContent=\"\"}let r=0;function u(n,t,o,u,c){n=o&&o.parentNode||n;const l=typeof t;return t===u||(!t&&0!==t||!0===t?(i(n,u,o,c),u=null):u&&\"string\"!=typeof u||!(\"string\"===l||\"number\"===l&&(t+=\"\"))?\"function\"===l?e.subscribe((function(){u=e.insert(n,t(),o,u)})):(i(n,u,o,c),t instanceof Node||(t=e.h(s,t)),11===t.nodeType&&t.firstChild!==t.lastChild&&(t.firstChild[f]=t.lastChild[f]=++r),n.insertBefore(t,o||null),u=t):(null!=u&&n.firstChild?o?(o.previousSibling||n.lastChild).data=t:n.firstChild.data=t:o?n.insertBefore(document.createTextNode(t),o):n.textContent=t,u=t)),u}function c(n,t,o,s,f){if(!n||\"attrs\"===n&&(s=!0))for(n in t)c(n,t[n],o,s,f);else\"o\"!==n[0]||\"n\"!==n[1]||t.$o?\"function\"==typeof t?t.$t?t.$t(2,c,o,n):e.subscribe(()=>{c(n,t(),o,s,f)}):f?o.style.setProperty(n,t):s||\"data-\"===n.slice(0,5)||\"aria-\"===n.slice(0,5)?o.setAttribute(n,t):\"style\"===n?\"string\"==typeof t?o.style.cssText=t:c(null,t,o,s,!0):(\"class\"===n&&(n+=\"Name\"),o[n]=t):function(n,t,o){t=t.slice(2);const s=e.cleanup(()=>n.removeEventListener(t,l));o?n.addEventListener(t,l):s(),(n.t||(n.t={}))[t]=o}(o,n,t)}function l(n){return this.t[n.type](n)}function a(n,t){for(let t in n)e[t]=n[t];function o(){const n=s.slice.call(arguments);let o;return n.forEach((function e(s){const f=typeof s;if(null==s);else if(\"string\"===f)o?o.appendChild(document.createTextNode(s)):o=t?document.createElementNS(\"http://www.w3.org/2000/svg\",s):document.createElement(s);else if(Array.isArray(s))o||(o=document.createDocumentFragment()),s.forEach(e);else if(s instanceof Node)o?o.appendChild(s):o=s;else if(\"object\"===f)c(null,s,o,t);else if(\"function\"===f)if(o){const n=o.appendChild(document.createTextNode(\"\"));s.$t?s.$t(1,u,o,\"\"):u(o,s,n)}else o=s.apply(null,n.splice(1));else o.appendChild(document.createTextNode(\"\"+s))})),o}return e.insert=u,e.property=c,e.h=o,o}const m=a(n),p=a(n,!0),d=t;function b(){return o.apply(m,arguments)}function g(){return o.apply(p,arguments)}export{e as api,a as context,m as h,p as hs,b as html,d as o,d as observable,g as svg};\n//# sourceMappingURL=sinuous.js.map\n","/* Adapted from Solid Sierpinski Triangle Demo - The MIT License - Ryan Carniato */\nimport { h, observable } from 'sinuous';\nimport { subscribe } from 'sinuous/observable';\n\nconst TARGET = 25;\n\nconst dePrioritize = signal => {\n  let i, t;\n  const delayed = observable(signal());\n  const box = { current: null };\n  const method = () => {\n    cancelIdleCallback(i);\n    clearTimeout(t);\n    t = null;\n    delayed(box.current);\n  };\n\n  subscribe(() => {\n    box.current = signal();\n    cancelIdleCallback(i);\n    if (!t) t = setTimeout(method, ~~(Math.random() * 4 + 1) * 100);\n    i = requestIdleCallback(method);\n  });\n\n  return delayed;\n};\n\nconst TriangleDemo = () => {\n  const elapsed = observable(0);\n  const seconds = observable(0);\n  const scale = () => {\n    const e = elapsed() / 1000 % 10;\n    return  1 + (e > 5 ? 10 - e : e) / 10;\n  };\n  const start = Date.now();\n\n  setInterval(() => seconds((seconds() % 10) + 1), 1000);\n\n  const update = () => {\n    elapsed(Date.now() - start);\n    requestAnimationFrame(update);\n  };\n  requestAnimationFrame(update);\n\n  const style = () => ({\n\t\ttransform: 'scaleX(' + scale() / 2.1 + ') scaleY(0.7) translateZ(0.1px)'\n\t});\n\n  return html`\n\t  <div class=container style=${style}>\n\t    <${Triangle} x=${0} y=${0} s=${1000} seconds=${seconds} />\n\t  </div>`;\n};\n\nconst Triangle = ({ x, y, s, seconds }) => {\n  if (s <= TARGET) {\n    return html`\n    \t<${Dot} x=${x - TARGET / 2} y=${y - TARGET / 2} s=${TARGET} text=${seconds} />\n    `;\n  }\n  s = s / 2;\n\n  if (s === 125) seconds = dePrioritize(seconds);\n\n  // var slowDown = true;\n  // if (slowDown) {\n  //   var e = performance.now() + 0.8;\n  //   while (performance.now() < e) {\n  //     // Artificially long execution time.\n  //   }\n  // }\n\n  return html`\n    <${Triangle} x=${x} y=${y - s / 2} s=${s} seconds=${seconds} />\n    <${Triangle} x=${x - s} y=${y + s / 2} s=${s} seconds=${seconds} />\n    <${Triangle} x=${x + s} y=${y + s / 2} s=${s} seconds=${seconds} />\n  `;\n};\n\nconst Dot = ({x, y, s, text}) => {\n  const hover = observable(false);\n  const onEnter = () => hover(true);\n\tconst onExit = () => hover(false);\n\n\ts = s * 1.3;\n\n\tconst style = () => ({\n    width: s + 'px',\n    height: s + 'px',\n    left: x + 'px',\n    top: y + 'px',\n    'border-radius': s / 2 + 'px',\n    'line-height': s + 'px',\n    background: hover() ? '#ff0' : '#61dafb'\n  });\n\n  return html`<div class=dot style=${style} onmouseenter=${onEnter} onmouseleave=${onExit}>\n  \t${() => hover() ? '**' + text() + '**' : text()}\n  </div>`;\n};\n\ndocument.body.appendChild(TriangleDemo());\n"],"names":["n","t","o","e","r","u","c","arguments","length","has","add","push","i","Set","forEach","s","$o","f","__c","S","indexOf","reduce","concat","delete","v","a","d","previousSibling","lastChild","nextSibling","removeChild","textContent","parentNode","l","subscribe","insert","Node","h","nodeType","firstChild","insertBefore","data","document","createTextNode","$t","style","setProperty","slice","setAttribute","cssText","cleanup","removeEventListener","addEventListener","this","type","call","appendChild","createElementNS","createElement","Array","isArray","createDocumentFragment","apply","splice","property","m","Triangle","x","y","seconds","Dot","TARGET","signal","delayed","observable","box","current","method","cancelIdleCallback","clearTimeout","setTimeout","Math","random","requestIdleCallback","dePrioritize","text","hover","width","height","left","top","background","body","elapsed","scale","start","Date","now","setInterval","update","requestAnimationFrame","transform","TriangleDemo"],"mappings":"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"}